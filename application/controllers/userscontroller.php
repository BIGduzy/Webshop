<?php class UsersController extends Controller {			public function login()	{		if (!empty($_POST['username']) && !empty($_POST['password']))		{						$user = $this->_model->select_user_from_login($_POST);			if ( sizeof($user) > 0)			{				//Zet session_start() in de index.php				$_SESSION['userrole'] = $user[0]['Userrole']['role'];				//var_dump($user);				switch ($user[0]['Userrole']['role'])				{					case "administrator":						$sendToPage = "../administrators/adminhomepage";					break;					case "root":						$sendToPage = "../roots/homepage";					break;				}				$header = "U bent succesvol ingelogd";			}			else			{				$header = "Wachtwoord en/of gebruikersnaam niet juist<br />						   U wordt doorgestuurd naar de homepage";				$sendToPage = "../users/viewall";			}		}		else		{			$header = "U heeft een van de velden niet ingevuld.<br />					   U wordt doorgestuurd naar de					   Homepage";			$sendToPage = "../users/viewall";		}		$this->set("header", $header);		header("refresh:1;url=".$sendToPage);	}	public function logout()	{		if ( isset($_SESSION['userrole']))		{			session_destroy();			header("location:../users/homepage");		}	}	public function homepage($offset=0)	{				$select_products = $this->_model->select_all_products(4,$offset);		//var_dump($select_products);		$products = "";		foreach ($select_products as $value)		{			$products .= "<tr>							<td>".$value['Product']['product_id']."</td>							<td>							<img src='".BASE_URL."public/fotos/thumbnails/tn_"								 .$value['Product']['foto_name']."' 								 alt='".$value['Product']['foto_name']."' /></td>							<td>".$value['Product']['product_name']."</td>							<td>".$value['Product']['product_price']."</td>						  </tr>";		}		$pagenumbers = "<a href='".BASE_URL."users/homepage/0'>1</a>"." | ".					   "<a href='".BASE_URL."users/homepage/4'>2</a>";		$this->set('header', 'Welkom bij uw online groentendealer');		$this->set('products', $products);		$this->set('pagenumbers', $pagenumbers);	}	public function register()	{		$this->_model->insert_register_data($_POST);		header("location:../users/homepage");	} }?>